params {
       repoDir='/seqprg'
}
process {
  executor = 'slurm'
  clusterOptions = '--hold --no-kill'
  queue = '128GB,256GB,256GBv1'
  withLabel: trim {
    container = 'goalconsortium/trim_galore:1.0.9'
  }
  withLabel: abra2 {
    container = 'goalconsortium/abra2:1.0.9'
  }
  withLabel: profiling_qc {
    container = 'goalconsortium/profiling_qc:1.0.9'
  }
  withLabel: dnaalign {
     container = 'goalconsortium/dna_alignment:1.0.9'
  }
  withLabel: variantcalling  {
    container = 'goalconsortium/variantcalling:1.0.9'
  }
  withLabel: structuralvariant {
     container = 'goalconsortium/structuralvariant:1.1.2'
  }
  withLabel: starfusion {
    container = 'goalconsortium/starfusion:1.0.9'
  }
  withLabel: ralign {
    container = 'goalconsortium/rna_alignment:1.0.9'
  }
  withLabel: geneabund {
    container = 'goalconsortium/rna_gene_abundance:1.1.3'
  }
}

singularity {
  enabled = true
  runOptions='--no-home --cleanenv'
  singularity.cacheDir="$PWD"
}

trace {
  enabled = true
  file = 'pipeline_trace.txt'
  field = 'task_id,native_id,process,name,status,exit,submit,start,complete,duration,realtime'
}

timeline {
  enabled = false
  file = 'timeline.html'
}

report {
  enabled = false
  file = 'report.html'
}

env {
  http_proxy = 'http://proxy.swmed.edu:3128'
  https_proxy = 'http://proxy.swmed.edu:3128'
  all_proxy = 'http://proxy.swmed.edu:3128'
}

manifest {
  homePage = 'https://git.biohpc.swmed.edu/BICF/Astrocyte/rnaseq'
  description = 'RNA sequencing gene abundance analysi'
  mainScript = 'rna.nf'
  version = '1.0.0'
  nextflowVersion = '>=20.01.0'
}
